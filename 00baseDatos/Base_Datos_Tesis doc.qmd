---
title: "Base de datos"
format: docx
editor: visual
---

## Base de datos 1.

Organización y creación de base de datos, a partir de las matrices de interacción de redes agregadas.

```{r bd}
base_datos<- list()
```

### especies

La tabla especies contiene:

-   especies: corresponde al nombre cientifico de todas las especies presentes en cada matriz de intracción. Los espacios entre el "género y especie" está separados por un punto. Los nombres cientificos de las abejas, tienen un ID asociado a cada matriz.

-   genero: se escribre en minuscula

-   familia: se escribre sólo con la 1° letra en mayuscula

-   Orden: se escribe sólo la 1° letra en mayuscula

```{r especies}
base_datos$especies<-data.frame(especies=c("Megachile polinosa"),
                                genero=c("Megachile"),
                                familia=c("Megachilidae"),
                                orden=c("Hymenoptera"))

```

DIT

-   especies: corresponde al nombre cientifico. Los espacios entre "género y especie" están separados por un punto.

-   DIT: se escribe siempre con mayuscula, corresponde la distancia intertegular de las abejas. Es una medida en mm.

-   fuente: corresponde a la referencia del paper desde donde obtuve el tamaño corporal.

```{r dit}
base_datos$DIT<-data.frame(especies=c("Megachile polinosa"),
                                DIT=c(3.5),
                                fuente=c("Roulston_2001"))
```

-   especies_A: corresponde al nombre cientifico de las especies presentes en la matriz de interacción. Para las abejas, el nombre tiene un ID asociado a la matriz de origen.

-   G: corresponde al grado o número de links entre abejas y plantas

-   G_rel: corresponde al grado relativo de cada abeja dentro de una matriz (hasta el momneto el G_rel se ha calculado sólo en función de las abejas)

-   G_z: corresponde a la normalización por z_score del grado (G)

```{r G}
base_datos$G<-data.frame(especies_A=c("Megachile polinosa"),
                                G=c(3.5),
                                G_re=c(5),
                                G_z=c(0.4),
                               ID=c("M_001"))

```

matrices (formato largo)

-   ID : corresponde a la identificación de la matriz, se escribe M_001. Es un código único.

-   plantas: corresponde al nombre cientifico de las plantas presente en cada matriz de interacción.

-   especies: corresponde al nombre cientifico de todas las especies presentes en cada matriz de intracción. Los espacios entre el "género y especie" está separados por un punto. Los nombres cientificos de las abejas, tienen un ID asociado a cada matriz.

-   interaccion: el valor de la interacción corresponde a una tasa de visita o a la presencia/ausencia de la interacción en una red cualitativa.

```{r matrices}
base_datos$matrices<-data.frame(ID=c("M_001"),
                                plantas=c("Quillaja saponaria"),
                                especies=c("Megachile polinosa"),
                                interaccion=c(1))
                        

```

matrices_bipartitas (en formato ancho)

-   plantas: corresponde al nombre cientifico de las plantas presente en cada matriz de interacción.

-   especies_A: corresponde al nombre cientifico de la 1° especie de abeja que ineractúa con una planta.

-   espeices_B: corresponde al nombre cientifico de a 2° especie de abeja que interactúa con una planta

```{r matrices_bipartitas}
base_datos$matrices_bipartitas<-data.frame(ID=c("M_001"),
                                plantas=c("Quillaja saponaria"),
                                especies_A=c("Megachile polinosa"),
                                especies_B=c(1))

```

```         
```

ID: corresponde a la identificación de la matriz, se escribe M_001. Es un código único.

Latitud: se encuentra en formato grados decimales (DD), signo negativo indica hemisferio sur

Longitud: se encuentra en formato grados decimales (DD), signo negativo indica Oeste

País: nombre del país en inglés

Localidad: identificación de la zona de muestreo (dato colectado desde paper)

```{r ubicacion_geografica}
base_datos$ubicacion_geografica<-data.frame(ID=c("M_001"),
                               Latitud=c("Quillaja saponaria"),
                                Longitud=c("Megachile polinosa"),
                               Pais=c(1),
                               Localidad =c(1))

```

```{r G}
base_datos
writexl::write_xlsx(x = base_datos, path = "base_datos.xlsx")
saveRDS(object = base_datos, file = "base_datos.RDS") 
rm(base_datos)

library(foreign)

```
